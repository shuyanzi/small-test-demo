<html>
<head>
    <title>console detect test</title>
</head>
<body>
<script>
 
    /**
     * 控制台打开的时候回调方法
     */
    function consoleOpenCallback(){
        alert("CONSOLE OPEN");
        return "";
    }
 
    /**
     * 立即运行函数，用来检测控制台是否打开
     */
    !function () {
        // 创建一个对象
        let foo = /./;
        // 将其打印到控制台上，实际上是一个指针
        console.log(foo);
        // 要在第一次打印完之后再重写toString方法
        foo.toString = consoleOpenCallback;
    }()
 
</script>
</body>
</html>
